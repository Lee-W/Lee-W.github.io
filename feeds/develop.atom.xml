<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Life Lies in Traveling - Develop</title><link href="http://lee-w.github.io/" rel="alternate"></link><link href="http://lee-w.github.io/feeds/develop.atom.xml" rel="self"></link><id>http://lee-w.github.io/</id><updated>2018-09-09T16:00:00+08:00</updated><entry><title>從Andromoney到MOZE</title><link href="http://lee-w.github.io/posts/develop/2018/09/from-andromoney-to-moze" rel="alternate"></link><published>2018-09-09T16:00:00+08:00</published><updated>2018-09-09T16:00:00+08:00</updated><author><name>Lee-W</name></author><id>tag:lee-w.github.io,2018-09-09:/posts/develop/2018/09/from-andromoney-to-moze</id><summary type="html">&lt;p&gt;最近不小心被 &lt;a href="https://www.mozeapp.com"&gt;&lt;span class="caps"&gt;MOZE&lt;/span&gt;&lt;/a&gt; 的介面燒到&lt;br&gt;
一個衝動就從 &lt;a href="https://web.andromoney.com"&gt;AndroMoney&lt;/a&gt; 轉到 &lt;span class="caps"&gt;MOZE&lt;/span&gt;&lt;br&gt;
這篇算是來記錄從 AndroMoney 把資料轉換到 &lt;span class="caps"&gt;MOZE&lt;/span&gt;&amp;nbsp;的過程&lt;/p&gt;
</summary><content type="html">&lt;p&gt;最近不小心被 &lt;a href="https://www.mozeapp.com"&gt;&lt;span class="caps"&gt;MOZE&lt;/span&gt;&lt;/a&gt; 的介面燒到&lt;br&gt;
一個衝動就從 &lt;a href="https://web.andromoney.com"&gt;AndroMoney&lt;/a&gt; 轉到 &lt;span class="caps"&gt;MOZE&lt;/span&gt;&lt;br&gt;
這篇算是來記錄從 AndroMoney 把資料轉換到 &lt;span class="caps"&gt;MOZE&lt;/span&gt;&amp;nbsp;的過程&lt;/p&gt;
&lt;!--more--&gt;

&lt;h2&gt;一些無關本文的前言&lt;/h2&gt;
&lt;p&gt;雖然 X-Village 暫時告一個段落，好像應該來寫個什麼&lt;br&gt;&amp;nbsp;但真的要寫起來還要再花一點時間&lt;/p&gt;
&lt;p&gt;上次 Blog 發文都已經是一年前的事了&lt;br&gt;
但點閱率竟然有一點在上升（雖然還是很低QAQ）&lt;br&gt;
還有一些人看了我在 Logdown 的 LineBot 文跑來找我討論&lt;br&gt;
覺得蠻開心的xD&lt;br&gt;
但這邊還是一直都沒辦法被找到QQ&lt;br&gt;
以後考慮同步發到 Medium&amp;nbsp;好了&lt;/p&gt;
&lt;p&gt;不過好像該進入本文了xD&lt;/p&gt;
&lt;h2&gt;為什麼換到 &lt;span class="caps"&gt;MOZE&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;當初在 Android 上使用 AndroMoney 就只是因為他免費，而且還算是好用&lt;br&gt;
剛好換到 iOS 的時候，這款 app 也在 App Store 有上架&lt;br&gt;
懶得轉換資料的情況下就繼續買了&lt;br&gt;
用下來覺得 AndroMoney 好像還是在 Android 上比較好用&lt;br&gt;
AndroMoney 的各種功能都很方便，只是介面上就比較普通xD&lt;br&gt;
而且 AndroMoney 各個平台都有，就算哪天想換 Android 的手機也不怕轉換問題&lt;br&gt;
但是啊， &lt;span class="caps"&gt;MOZE&lt;/span&gt;&amp;nbsp;的介面就是好看xD&lt;/p&gt;
&lt;p&gt;再來就要說說其他我喜歡MOZE的原因&lt;/p&gt;
&lt;h3&gt;AndroMoney&amp;nbsp;沒有(或我不會用)的功能&lt;/h3&gt;
&lt;h4&gt;借款事件&lt;/h4&gt;
&lt;p&gt;&lt;img alt="3-borrow.png" src="http://lee-w.github.io/images/posts-image/2018-09-09-andromoney-to-moze/3-borrow.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;MOZE&lt;/span&gt; 會幫我記住我借錢給誰，而且會一直提醒我誰跟我借了錢&lt;br&gt;
以前都還要特地記錄到其他&amp;nbsp;app&lt;/p&gt;
&lt;p&gt;&lt;img alt="4-borrow.png" src="http://lee-w.github.io/images/posts-image/2018-09-09-andromoney-to-moze/4-borrow.png"&gt;&lt;br&gt;
而且借出的錢，不會算在我的支出，所以也不會影響到我的預算&lt;br&gt;&amp;nbsp;算是蠻方便的功能&lt;/p&gt;
&lt;h4&gt;繳費事件&lt;/h4&gt;
&lt;p&gt;提醒我信用卡要繳費的時間&lt;br&gt;&amp;nbsp;也會有跟借款事件差不多的提醒&lt;/p&gt;
&lt;h4&gt;動態改變每天剩餘的預算&lt;/h4&gt;
&lt;p&gt;這是一個我還蠻需要的功能&lt;br&gt;
我會想知道前幾天花的錢如何影響我這個月剩下的日子的預算&lt;br&gt;&amp;nbsp;而不是一個從月初的預算直接除以30都不改變的數字&lt;/p&gt;
&lt;h4&gt;帳戶&amp;nbsp;icon&lt;/h4&gt;
&lt;p&gt;每個帳戶都能加入自己的 icon&lt;br&gt;
只要是付費版的 &lt;span class="caps"&gt;MOZE&lt;/span&gt; 就會有各家銀行的 icon&lt;br&gt;
&lt;img alt="5-icon.jpeg" src="http://lee-w.github.io/images/posts-image/2018-09-09-andromoney-to-moze/5-icon.jpeg"&gt;&lt;br&gt;
雖然他說是付費圖示，但其實這幾個是免費的&lt;br&gt;
只有其他類別的彩色圖是要購買&lt;br&gt;
但我是覺得原本的我比較喜歡xD&lt;br&gt;
另外，也可以自己製作想要的 icon&amp;nbsp;匯入~&lt;/p&gt;
&lt;h4&gt;電子發票載具&lt;/h4&gt;
&lt;p&gt;以前都沒有什麼要用電子載具的誘因&lt;br&gt;
就完全忘了這回事&lt;br&gt;
現在這個可以直接幫我記帳就很吸引我&lt;br&gt;
而且他也有支援 wideget ，給店家掃過後，馬上就能用 Apple&amp;nbsp;Pay&lt;/p&gt;
&lt;p&gt;另外，我原本以為從雲端載下消費紀錄，一定會要再創一個紀錄&lt;br&gt;
但其實這是可以連結到某一筆過去的紀錄&lt;br&gt;&amp;nbsp;這對我也是蠻重要的功能&lt;/p&gt;
&lt;p&gt;只是目前好像還不能針對轉帳或借款事件歸帳&lt;br&gt;
希望這些能透過 &lt;span class="caps"&gt;MOZE&lt;/span&gt; 3.0&amp;nbsp;會有的分帳功能解決&lt;/p&gt;
&lt;h4&gt;拆帳 (&lt;span class="caps"&gt;MOZE&lt;/span&gt;&amp;nbsp;3.0才有)&lt;/h4&gt;
&lt;p&gt;雖然目前還沒有，但這個功能我現在很期待&lt;br&gt;&amp;nbsp;所以還是想列一下xD&lt;/p&gt;
&lt;h3&gt;MOZE沒有(或我不會用)的功能&lt;/h3&gt;
&lt;h4&gt;專案不能跨幣別&lt;/h4&gt;
&lt;p&gt;我之前去歐洲的那些紀錄就因為這樣，必須用標籤來分類QQ&lt;br&gt;
不過聽說 &lt;span class="caps"&gt;MOZE&lt;/span&gt; 3.0&amp;nbsp;會新增就是&lt;/p&gt;
&lt;h4&gt;不能將單一紀錄不計算在花費中&lt;/h4&gt;
&lt;p&gt;主要是有些特別的花費我不會想要扣在我的預算中&lt;br&gt;&amp;nbsp;這樣那個月剩下的天數的預算就都會是0，好像也不太對&amp;#8230;&lt;/p&gt;
&lt;h4&gt;【AndroMoney功能教學目錄】&lt;/h4&gt;
&lt;p&gt;這個我真的覺得超棒的&lt;br&gt;
他把目前能用他現有功能做到的事，全部整理起來&lt;br&gt;
現在 &lt;span class="caps"&gt;MOZE&lt;/span&gt; 還是比較需要去爬舊文翻，或直接問粉專&lt;br&gt;
但不得不說 &lt;span class="caps"&gt;MOZE&lt;/span&gt;&amp;nbsp;回復速度真的超快&lt;/p&gt;
&lt;h2&gt;AndroMoney to &lt;span class="caps"&gt;MOZE&lt;/span&gt;&amp;nbsp;transformater&lt;/h2&gt;
&lt;p&gt;身為一個攻城獅，當然還是要寫自動化的程式來幫我轉換資料格式&lt;br&gt;
手動要處理5、6000筆帳務紀錄有點太累了&lt;br&gt;
btw MOZE有說之後會提供 web&amp;nbsp;版的匯入工具&lt;/p&gt;
&lt;p&gt;在 &lt;span class="caps"&gt;MOZE&lt;/span&gt; 首頁 &lt;span class="caps"&gt;FAQ&lt;/span&gt; 可以找到要如何匯入資料(&lt;a href="https://docs.google.com/spreadsheets/d/1OeVuhID8l_vhmjHbDKReAXcLkIi0NvDUDIAwD9I8AYQ/edit?usp=sharing"&gt;MOZE格式&lt;/a&gt;)&lt;br&gt;&amp;nbsp;基本上就是照著他的格式就能轉換大部分的資料&lt;/p&gt;
&lt;p&gt;當然我也寫了一個小 script&lt;br&gt;
&lt;strong&gt;&lt;a href="https://github.com/Lee-W/AndroMoney_to_MOZE_transformater"&gt;AndroMoney_to_MOZE_transformater&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;Script使用方式&lt;/h3&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python transformater.py --input_file &lt;span class="s2"&gt;&amp;quot;Your input filename&amp;quot;&lt;/span&gt; extract
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在轉換的過程中，會有一些資料還是要手動輸入的&lt;br&gt;&amp;nbsp;其實後來大多時間是花在這&amp;#8230;&lt;/p&gt;
&lt;p&gt;會抓出的資料有&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;帳戶（以及其起始金額）&lt;/li&gt;
&lt;li&gt;專案&lt;/li&gt;
&lt;li&gt;主類別、次類別&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;後來發現還有另一個問題是不同幣別的轉帳， AndroMoney 匯出的資料不會有轉入的金額&lt;br&gt;&amp;nbsp;所以沒辦法自動化，這點倒是比較麻煩&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python transformater.py transformat --input_file &lt;span class="s2"&gt;&amp;quot;Your input filename&amp;quot;&lt;/span&gt; --output_file MOZE.csv
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;再來就是要把原本 AndroMoney 的紀錄轉成 &lt;span class="caps"&gt;MOZE&lt;/span&gt; 的格式&lt;br&gt;
只要把這個&lt;code&gt;MOZE.csv&lt;/code&gt;(一定要是這個檔名)丟到 Dropbox 的&lt;code&gt;應用程式/MOZE&lt;/code&gt;&lt;br&gt;&amp;nbsp;MOZE就能找到，並能選擇匯入&lt;/p&gt;
&lt;h3&gt;踩到的一些坑&lt;/h3&gt;
&lt;p&gt;寫這個 script 的過程中，其實踩到蠻多坑的&lt;br&gt;&amp;nbsp;匯入了好幾次才成功&lt;/p&gt;
&lt;p&gt;一來這是我第一次從&lt;a href="https://docs.python.org/3/library/argparse.html"&gt;argparse&lt;/a&gt;換到&lt;a href="http://click.pocoo.org"&gt;click&lt;/a&gt;&lt;br&gt;
原本想說 argparse 已經算是蠻好用的了&lt;br&gt;
click&amp;nbsp;真的又更直覺了一點，難怪這麼多人推薦&lt;/p&gt;
&lt;p&gt;第一個遇到的問題就是轉帳的「相關行數」&lt;br&gt;
一開始不知道這個行數是從多少開始&lt;br&gt;
以寫程式來說，我就直接去抓那個 row 的 index&lt;br&gt;
所以抓到的 index 是 0-based&lt;br&gt;
後來想到可以試試看 1-based，還是無法匯入成功&lt;br&gt;
最後才發現還要把標頭也考慮進去&lt;br&gt;
第一個 row 其實&amp;nbsp;index是2&lt;/p&gt;
&lt;p&gt;第二個問題是轉帳的類別&lt;br&gt;
文件其實只說不用「子類別」，沒說「主類別」要怎麼處理xD&lt;br&gt;
我試了各種可能的類別後&lt;br&gt;
自己去匯出了一筆轉帳紀錄，才解決&lt;br&gt;
原來轉帳的主類別分別會是「轉入」跟「轉出」&lt;br&gt;
&lt;img alt="1-doc.png" src="http://lee-w.github.io/images/posts-image/2018-09-09-andromoney-to-moze/1-doc.png"&gt;&lt;/p&gt;
&lt;p&gt;後來弄完後有再去看一下文件，才發現下面其實有寫&amp;#8230;&amp;#8230;&lt;br&gt;
&lt;img alt="2-doc.png" src="http://lee-w.github.io/images/posts-image/2018-09-09-andromoney-to-moze/2-doc.png"&gt;&lt;/p&gt;
&lt;p&gt;這些問題我都跟作者反應了，他都超快就回了&lt;br&gt;
他是說之後會透過 web&amp;nbsp;版的工具匯入&lt;/p&gt;
&lt;h2&gt;Future&amp;nbsp;Improvement&lt;/h2&gt;
&lt;p&gt;其實我還是蠻喜歡 AndroMoney 的&lt;br&gt;
所以也許會找個時間寫怎麼把 &lt;span class="caps"&gt;MOZE&lt;/span&gt; 轉回 AndroMoney 的功能會寫個 &lt;span class="caps"&gt;MOZE&lt;/span&gt; to AndroMoney&lt;br&gt;
避免我哪天又想回到 Android&amp;nbsp;了xD&lt;/p&gt;</content><category term="Utility"></category></entry></feed>